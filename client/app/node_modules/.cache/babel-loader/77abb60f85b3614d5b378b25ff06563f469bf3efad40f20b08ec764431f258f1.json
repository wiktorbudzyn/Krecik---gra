{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/wikto/Desktop/Uczelnia/In\\u017Cynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/wikto/Desktop/Uczelnia/In\\u017Cynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wikto/Desktop/Uczelnia/In\\u017Cynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./MainPage.css\";import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import LOGO4 from\"../images/LOGO4.png\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MainPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Login=_useState2[0],setLogin=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),LoginError=_useState6[0],setLoginError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),Nick=_useState8[0],setNick=_useState8[1];var navigate=useNavigate();useEffect(function(){axios.get(\"http://localhost:3001/check-login\").then(function(response){if(response.data.success){var nick=response.data.nick;setNick(nick);navigate(\"/start?nick=\".concat(nick));}});},[]);var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,nick;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:3001/login\",{Login:Login,Password:Password});case 3:response=_context.sent;if(response.data.success){nick=response.data.nick;setNick(nick);navigate(\"/start?nick=\".concat(nick));}else{setLoginError(\"Błąd logowania. Spróbuj ponownie.\");alert(\"Błąd logowania. Spróbuj ponownie.\");}_context.next=12;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);setLoginError(\"Błąd logowania. Spróbuj ponownie.\");alert(\"Błąd logowania. Spróbuj ponownie.\");case 12:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logoApp\",children:/*#__PURE__*/_jsx(\"img\",{src:LOGO4,alt:\"LogoApp\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_element_login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formBG\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Logowanie!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"values\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",required:true,value:Login,onChange:function onChange(e){return setLogin(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Has\\u0142o\",required:true,value:Password,onChange:function onChange(e){return setPassword(e.target.value);}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Zarejestruj si\\u0119!\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Zaloguj si\\u0119!\"})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","LOGO4","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainPage","_useState","_useState2","_slicedToArray","Login","setLogin","_useState3","_useState4","Password","setPassword","_useState5","_useState6","LoginError","setLoginError","_useState7","_useState8","Nick","setNick","navigate","get","then","response","data","success","nick","concat","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","post","sent","alert","t0","console","error","stop","apply","arguments","children","className","src","alt","type","placeholder","required","value","onChange","e","target","to","onClick"],"sources":["C:/Users/wikto/Desktop/Uczelnia/Inżynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/src/Components/MainPage.jsx"],"sourcesContent":["import \"./MainPage.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport LOGO4 from \"../images/LOGO4.png\";\r\nimport axios from \"axios\";\r\n\r\nexport default function MainPage() {\r\n  const [Login, setLogin] = useState(\"\");\r\n  const [Password, setPassword] = useState(\"\");\r\n  const [LoginError, setLoginError] = useState(\"\");\r\n  const [Nick, setNick] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:3001/check-login\").then((response) => {\r\n      if (response.data.success) {\r\n        const nick = response.data.nick;\r\n        setNick(nick);\r\n        navigate(`/start?nick=${nick}`);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await axios.post(\"http://localhost:3001/login\", {\r\n        Login,\r\n        Password,\r\n      });\r\n\r\n      if (response.data.success) {\r\n        const nick = response.data.nick;\r\n        setNick(nick);\r\n        navigate(`/start?nick=${nick}`);\r\n      } else {\r\n        setLoginError(\"Błąd logowania. Spróbuj ponownie.\");\r\n        alert(\"Błąd logowania. Spróbuj ponownie.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoginError(\"Błąd logowania. Spróbuj ponownie.\");\r\n      alert(\"Błąd logowania. Spróbuj ponownie.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"logoApp\">\r\n        <img src={LOGO4} alt=\"LogoApp\" />\r\n      </div>\r\n\r\n      <div className=\"form_element_login\">\r\n        <div className=\"formBG\">\r\n          <form>\r\n            <h1>Logowanie!</h1>\r\n\r\n            <div className=\"values\">\r\n              <label>\r\n                {/* Email: */}\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Email\"\r\n                  required\r\n                  value={Login}\r\n                  onChange={(e) => setLogin(e.target.value)}\r\n                />\r\n              </label>\r\n              <br />\r\n              <label>\r\n                {/* Hasło: */}\r\n                <br />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Hasło\"\r\n                  required\r\n                  value={Password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </label>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"buttons\">\r\n            <Link to=\"/register\">\r\n              <button>Zarejestruj się!</button>\r\n            </Link>\r\n            <button onClick={handleLogin}>Zaloguj się!</button>\r\n\r\n            {/* <Link to=\"/start\">\r\n              <button>start!</button>\r\n            </Link> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}