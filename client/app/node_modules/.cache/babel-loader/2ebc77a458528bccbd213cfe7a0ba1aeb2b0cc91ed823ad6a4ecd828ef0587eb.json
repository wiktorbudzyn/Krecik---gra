{"ast":null,"code":"import _slicedToArray from\"C:/Users/wikto/Desktop/Uczelnia/In\\u017Cynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import'./Popup.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Popup=function Popup(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),currentAbout=_useState4[0],setCurrentAbout=_useState4[1];var handleInputChange=function handleInputChange(e){setInputValue(e.target.value);};var fetchAbout=function fetchAbout(nick){axios.get(\"http://localhost:3001/getAbout/\".concat(nick)).then(function(response){setCurrentAbout(response.data.about);}).catch(function(error){console.error(error);});};useEffect(function(){var nick=props.nick;if(nick){fetchAbout(nick);}},[props.nick]);useEffect(function(){setInputValue(currentAbout);},[currentAbout]);var updateAbout=function updateAbout(){var nick=props.nick;if(inputValue.length!==0){axios.post(\"http://localhost:3001/updateAbout/\".concat(nick),{inputValue:inputValue}).then(function(response){props.handleClose();window.location.reload();}).catch(function(error){});}};return/*#__PURE__*/_jsx(\"div\",{className:\"popup-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close-icon\",onClick:props.handleClose,children:\"x\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Edytuj opis!\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputAboutProfile\",placeholder:\"Dodaj opis o sobie\",value:inputValue,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"popupButtons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:updateAbout,children:\"Zaktualizuj\"}),/*#__PURE__*/_jsx(\"button\",{onClick:props.handleClose,children:\"Zamknij\"})]}),props.content]})});};export default Popup;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Popup","props","_useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","currentAbout","setCurrentAbout","handleInputChange","e","target","value","fetchAbout","nick","get","concat","then","response","data","about","catch","error","console","updateAbout","length","post","handleClose","window","location","reload","className","children","onClick","type","placeholder","onChange","content"],"sources":["C:/Users/wikto/Desktop/Uczelnia/InÅ¼ynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/src/Components/Popup.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport './Popup.css';\r\nimport axios from 'axios';\r\n\r\nconst Popup = props => {\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [currentAbout, setCurrentAbout] = useState('');\r\n\r\n    const handleInputChange = (e) => {\r\n        setInputValue(e.target.value);\r\n    };\r\n\r\n    const fetchAbout = (nick) => {\r\n        axios.get(`http://localhost:3001/getAbout/${nick}`)\r\n            .then((response) => {\r\n                setCurrentAbout(response.data.about);\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const nick = props.nick;\r\n        if (nick) {\r\n            fetchAbout(nick);\r\n        }\r\n    }, [props.nick]);\r\n\r\n    useEffect(() => {\r\n        setInputValue(currentAbout);\r\n    }, [currentAbout]);\r\n\r\n    const updateAbout = () => {\r\n        const nick = props.nick;\r\n        if (inputValue.length !== 0) {\r\n            axios.post(`http://localhost:3001/updateAbout/${nick}`, { inputValue })\r\n                .then(response => {\r\n                    props.handleClose();\r\n                    window.location.reload(); \r\n                })\r\n                .catch(error => { });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"popup-box\">\r\n            <div className=\"box\">\r\n                <span className=\"close-icon\" onClick={props.handleClose}>x</span>\r\n                <h2>Edytuj opis!</h2>\r\n\r\n                <input type=\"text\" className=\"inputAboutProfile\" placeholder=\"Dodaj opis o sobie\" value={inputValue} onChange={handleInputChange} /><br></br>\r\n                \r\n                <div className=\"popupButtons\">\r\n                    <button onClick={updateAbout}>Zaktualizuj</button>\r\n                    <button onClick={props.handleClose}>Zamknij</button>\r\n                </div>\r\n\r\n                {props.content}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Popup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}