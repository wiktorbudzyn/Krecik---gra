{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/wikto/Desktop/Uczelnia/In\\u017Cynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/wikto/Desktop/Uczelnia/In\\u017Cynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wikto/Desktop/Uczelnia/In\\u017Cynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import\"./RegisterPage.css\";import LOGO4 from\"../images/LOGO4.png\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function RegisterPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Nick=_useState2[0],setNick=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Login=_useState4[0],setLogin=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),Password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),registrationError=_useState8[0],setRegistrationError=_useState8[1];var navigate=useNavigate();function validateNick(){if(Nick.length===0){alert(\"Niepoprawna długość nazwy użytkownika!\");return false;}if(Nick.trim()!==Nick){alert(\"Nazwa użytkownika niepoprawna! Usuń spację\");return false;}return true;}function validateLogin(){if(Login.length===0){alert(\"Niepoprawna długość Loginu!\");return false;}if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(Login)){alert(\"Niepoprawny E-mail!\");return false;}return true;}function validatePassword(){if(Password.length<8){alert(\"Niepoprawna długość Hasła. Hasło musi mieć co najmniej 8 znaków!\");return false;}if(!/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[-'!@#$%^&*()_+={}:;<>']).{8,}$/g.test(Password)){alert(\"Hasło nie spełnia wymagań\");return false;}return true;}function validateForm(){return _validateForm.apply(this,arguments);}function _validateForm(){_validateForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(validateNick()===true&&validateLogin()===true&&validatePassword()===true)){_context.next=11;break;}_context.prev=1;_context.next=4;return axios.post(\"http://localhost:3001/register\",{Nick:Nick,Login:Login,Password:Password});case 4:response=_context.sent;if(response.data.success){navigate(\"/\");}else{setRegistrationError(\"Błąd podczas rejestracji. Spróbuj ponownie.\");}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setRegistrationError(\"Błąd podczas rejestracji. Spróbuj ponownie.\");case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return _validateForm.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"curve\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logo_register_page\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo_left\",src:LOGO4,alt:\"LogoApp\"}),/*#__PURE__*/_jsx(\"img\",{className:\"logo_right\",src:LOGO4,alt:\"LogoApp\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_element\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Zarejestruj sie!\"}),registrationError&&/*#__PURE__*/_jsx(\"p\",{className:\"registration-error\",children:registrationError}),/*#__PURE__*/_jsxs(\"div\",{className:\"values\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"nick\",type:\"text\",placeholder:\"Nick\",required:true,onChange:function onChange(e){return setNick(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"login\",type:\"email\",placeholder:\"Email\",required:true,onChange:function onChange(e){return setLogin(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"Has\\u0142o\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonsRegister\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:validateForm,children:/*#__PURE__*/_jsx(\"button\",{children:\"Zarejestruj si\\u0119!\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Powr\\xF3t\"})})]})]})})]})});}","map":{"version":3,"names":["React","LOGO4","Link","useNavigate","axios","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterPage","_useState","_useState2","_slicedToArray","Nick","setNick","_useState3","_useState4","Login","setLogin","_useState5","_useState6","Password","setPassword","_useState7","_useState8","registrationError","setRegistrationError","navigate","validateNick","length","alert","trim","validateLogin","test","validatePassword","validateForm","_validateForm","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","sent","data","success","t0","stop","children","className","to","src","alt","name","type","placeholder","required","onChange","e","target","value","onClick"],"sources":["C:/Users/wikto/Desktop/Uczelnia/Inżynierka/Projekt/Gra-Krecik/Krecik---gra/client/app/src/Components/RegisterPage.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./RegisterPage.css\";\r\nimport LOGO4 from \"../images/LOGO4.png\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function RegisterPage() {\r\n  const [Nick, setNick] = useState(\"\");\r\n  const [Login, setLogin] = useState(\"\");\r\n  const [Password, setPassword] = useState(\"\");\r\n  const [registrationError, setRegistrationError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  function validateNick() {\r\n    if (Nick.length === 0) {\r\n      alert(\"Niepoprawna długość nazwy użytkownika!\");\r\n      return false;\r\n    }\r\n\r\n    if (Nick.trim() !== Nick) {\r\n      alert(\"Nazwa użytkownika niepoprawna! Usuń spację\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function validateLogin() {\r\n    if (Login.length === 0) {\r\n      alert(\"Niepoprawna długość Loginu!\");\r\n      return false;\r\n    }\r\n\r\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(Login)) {\r\n      alert(\"Niepoprawny E-mail!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function validatePassword() {\r\n    if (Password.length < 8) {\r\n      alert(\"Niepoprawna długość Hasła. Hasło musi mieć co najmniej 8 znaków!\");\r\n      return false;\r\n    }\r\n    if (\r\n      !/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[-'!@#$%^&*()_+={}:;<>']).{8,}$/g.test(\r\n        Password\r\n      )\r\n    ) {\r\n      alert(\"Hasło nie spełnia wymagań\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  async function validateForm() {\r\n    if (\r\n      validateNick() === true &&\r\n      validateLogin() === true &&\r\n      validatePassword() === true\r\n    ) {\r\n      try {\r\n        const response = await axios.post(\"http://localhost:3001/register\", {\r\n          Nick,\r\n          Login,\r\n          Password,\r\n        });\r\n\r\n        if (response.data.success) {\r\n          navigate(\"/\");\r\n        } else {\r\n          setRegistrationError(\"Błąd podczas rejestracji. Spróbuj ponownie.\");\r\n        }\r\n      } catch (error) {\r\n        setRegistrationError(\"Błąd podczas rejestracji. Spróbuj ponownie.\");\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"curve\">\r\n        <Link to=\"/\">\r\n          <div className=\"logo_register_page\">\r\n            <img className=\"logo_left\" src={LOGO4} alt=\"LogoApp\" />\r\n            <img className=\"logo_right\" src={LOGO4} alt=\"LogoApp\" />\r\n          </div>\r\n        </Link>\r\n\r\n        <div className=\"form_element\">\r\n          <div className=\"form\">\r\n            <form>\r\n              <h1>Zarejestruj sie!</h1>\r\n\r\n              {registrationError && (\r\n                <p className=\"registration-error\">{registrationError}</p>\r\n              )}\r\n\r\n              <div className=\"values\">\r\n                <label>\r\n                  {/* Nick: */}\r\n                  <br />\r\n                  <input\r\n                    name=\"nick\"\r\n                    type=\"text\"\r\n                    placeholder=\"Nick\"\r\n                    required\r\n                    onChange={(e) => setNick(e.target.value)}\r\n                  />\r\n                </label>\r\n                <br />\r\n                <label>\r\n                  {/* Email: */}\r\n                  <br />\r\n                  <input\r\n                    name=\"login\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    required\r\n                    onChange={(e) => setLogin(e.target.value)}\r\n                  />\r\n                </label>\r\n                <br />\r\n                <label>\r\n                  {/* Hasło: */}\r\n                  <br />\r\n                  <input\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    placeholder=\"Hasło\"\r\n                    required\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                </label>\r\n              </div>\r\n            </form>\r\n\r\n            <div className=\"buttonsRegister\">\r\n              <Link to=\"/\" onClick={validateForm}>\r\n                <button>Zarejestruj się!</button>\r\n              </Link>\r\n              <Link to=\"/\">\r\n                <button>Powrót</button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"giBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,oBAAoB,CAC3B,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEjC,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC,IAAAC,SAAA,CAAwBR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAA0Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAgCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAkDrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAvDE,iBAAiB,CAAAD,UAAA,IAAEE,oBAAoB,CAAAF,UAAA,IAC9C,GAAM,CAAAG,QAAQ,CAAG3B,WAAW,CAAC,CAAC,CAE9B,QAAS,CAAA4B,YAAYA,CAAA,CAAG,CACtB,GAAIf,IAAI,CAACgB,MAAM,GAAK,CAAC,CAAE,CACrBC,KAAK,CAAC,wCAAwC,CAAC,CAC/C,MAAO,MAAK,CACd,CAEA,GAAIjB,IAAI,CAACkB,IAAI,CAAC,CAAC,GAAKlB,IAAI,CAAE,CACxBiB,KAAK,CAAC,4CAA4C,CAAC,CACnD,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAEA,QAAS,CAAAE,aAAaA,CAAA,CAAG,CACvB,GAAIf,KAAK,CAACY,MAAM,GAAK,CAAC,CAAE,CACtBC,KAAK,CAAC,6BAA6B,CAAC,CACpC,MAAO,MAAK,CACd,CAEA,GAAI,CAAC,2CAA2C,CAACG,IAAI,CAAChB,KAAK,CAAC,CAAE,CAC5Da,KAAK,CAAC,qBAAqB,CAAC,CAC5B,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAEA,QAAS,CAAAI,gBAAgBA,CAAA,CAAG,CAC1B,GAAIb,QAAQ,CAACQ,MAAM,CAAG,CAAC,CAAE,CACvBC,KAAK,CAAC,kEAAkE,CAAC,CACzE,MAAO,MAAK,CACd,CACA,GACE,CAAC,6EAA6E,CAACG,IAAI,CACjFZ,QACF,CAAC,CACD,CACAS,KAAK,CAAC,2BAA2B,CAAC,CAClC,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAAC,QAEc,CAAAK,YAAYA,CAAA,SAAAC,aAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,cAAA,EAAAA,aAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,cAEIpB,YAAY,CAAC,CAAC,GAAK,IAAI,EACvBI,aAAa,CAAC,CAAC,GAAK,IAAI,EACxBE,gBAAgB,CAAC,CAAC,GAAK,IAAI,GAAAY,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGF,CAAA/C,KAAK,CAACgD,IAAI,CAAC,gCAAgC,CAAE,CAClEpC,IAAI,CAAJA,IAAI,CACJI,KAAK,CAALA,KAAK,CACLI,QAAQ,CAARA,QACF,CAAC,CAAC,QAJIsB,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CAMd,GAAIP,QAAQ,CAACQ,IAAI,CAACC,OAAO,CAAE,CACzBzB,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAM,CACLD,oBAAoB,CAAC,6CAA6C,CAAC,CACrE,CAACoB,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAEDpB,oBAAoB,CAAC,6CAA6C,CAAC,CAAC,yBAAAoB,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,gBAGzE,UAAAN,aAAA,CAAAC,KAAA,MAAAC,SAAA,GACD,mBACElC,IAAA,CAAAI,SAAA,EAAA+C,QAAA,cACEjD,KAAA,QAAKkD,SAAS,CAAC,OAAO,CAAAD,QAAA,eACpBnD,IAAA,CAACL,IAAI,EAAC0D,EAAE,CAAC,GAAG,CAAAF,QAAA,cACVjD,KAAA,QAAKkD,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCnD,IAAA,QAAKoD,SAAS,CAAC,WAAW,CAACE,GAAG,CAAE5D,KAAM,CAAC6D,GAAG,CAAC,SAAS,CAAE,CAAC,cACvDvD,IAAA,QAAKoD,SAAS,CAAC,YAAY,CAACE,GAAG,CAAE5D,KAAM,CAAC6D,GAAG,CAAC,SAAS,CAAE,CAAC,EACrD,CAAC,CACF,CAAC,cAEPvD,IAAA,QAAKoD,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC3BjD,KAAA,QAAKkD,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBjD,KAAA,SAAAiD,QAAA,eACEnD,IAAA,OAAAmD,QAAA,CAAI,kBAAgB,CAAI,CAAC,CAExB9B,iBAAiB,eAChBrB,IAAA,MAAGoD,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAE9B,iBAAiB,CAAI,CACzD,cAEDnB,KAAA,QAAKkD,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACrBjD,KAAA,UAAAiD,QAAA,eAEEnD,IAAA,QAAK,CAAC,cACNA,IAAA,UACEwD,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,MAAM,CAClBC,QAAQ,MACRC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAnD,OAAO,CAACmD,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC1C,CAAC,EACG,CAAC,cACR/D,IAAA,QAAK,CAAC,cACNE,KAAA,UAAAiD,QAAA,eAEEnD,IAAA,QAAK,CAAC,cACNA,IAAA,UACEwD,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,QAAQ,MACRC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA/C,QAAQ,CAAC+C,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC3C,CAAC,EACG,CAAC,cACR/D,IAAA,QAAK,CAAC,cACNE,KAAA,UAAAiD,QAAA,eAEEnD,IAAA,QAAK,CAAC,cACNA,IAAA,UACEwD,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,YAAO,CACnBC,QAAQ,MACRC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA3C,WAAW,CAAC2C,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC9C,CAAC,EACG,CAAC,EACL,CAAC,EACF,CAAC,cAEP7D,KAAA,QAAKkD,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BnD,IAAA,CAACL,IAAI,EAAC0D,EAAE,CAAC,GAAG,CAACW,OAAO,CAAEjC,YAAa,CAAAoB,QAAA,cACjCnD,IAAA,WAAAmD,QAAA,CAAQ,uBAAgB,CAAQ,CAAC,CAC7B,CAAC,cACPnD,IAAA,CAACL,IAAI,EAAC0D,EAAE,CAAC,GAAG,CAAAF,QAAA,cACVnD,IAAA,WAAAmD,QAAA,CAAQ,WAAM,CAAQ,CAAC,CACnB,CAAC,EACJ,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CACN,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}